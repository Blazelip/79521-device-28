document.addEventListener("DOMContentLoaded",function(){let e=document.querySelector(".contacts .button-info"),t=document.querySelector(".feedback"),s=t.querySelector(".feedback-form"),c=t.querySelector(".close-cross"),a=document.querySelector(".img-container"),o=document.querySelector(".map"),l=o.querySelector(".close-cross"),n=s.querySelector("#name-field"),r=s.querySelector("#email-field"),i=s.querySelector("#comment-field"),d=document.querySelector(".js-slider"),u=document.querySelector(".js-slider-services"),v=!0,f="",m="";s.noValidate=!0;try{f=localStorage.getItem("name"),m=localStorage.getItem("email")}catch(e){v=!1}function L(e,t,s){let c=e.querySelectorAll(".js-slider-track li"),a=e.querySelectorAll(".js-slider-controls button");function o(e){a.forEach(function(o,l){e===l?function(e){c[e].classList.add(t),a[e].classList.add(s)}(l):function(e){c[e].classList.remove(t),a[e].classList.remove(s)}(l)})}a.forEach(function(e,t){e.addEventListener("click",function(){o(t)})})}L(d,"slider-active","slider-button-current"),L(u,"active-service","service-current-button"),e.addEventListener("click",function(e){e.preventDefault(),t.classList.add("show-feedback"),f?n.value=f:n.focus(),m&&(r.value=m)}),c.addEventListener("click",function(){t.classList.remove("show-feedback"),t.classList.remove("feedback-error")}),window.addEventListener("keydown",function(e){27===e.keyCode&&t.classList.contains("show-feedback")&&(e.preventDefault(),t.classList.remove("show-feedback"),t.classList.remove("feedback-error"))}),s.addEventListener("submit",function(e){n.value&&r.value&&i.value?v&&(localStorage.setItem("name",n.value),localStorage.setItem("email",r.value)):(e.preventDefault(),t.classList.remove("feedback-error"),t.offsetWidth=t.offsetWidth,t.classList.add("feedback-error"),n.value||n.classList.add("invalid-value"),r.value||r.classList.add("invalid-value"),i.value||i.classList.add("invalid-value"))}),a.addEventListener("click",function(e){e.preventDefault(),o.classList.add("show-map")}),l.addEventListener("click",function(){o.classList.remove("show-map")}),window.addEventListener("keydown",function(e){27===e.keyCode&&o.classList.contains("show-map")&&(e.preventDefault(),o.classList.remove("show-map"))})});